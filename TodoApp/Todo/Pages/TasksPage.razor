@page "/tasks"
@attribute [Authorize]
@inject TasksService _tasksService
@inject List<TaskDetail> _source

<Tasks TaskDetails="@_source" />

@code {

  public List<TaskDetail> taskDetails = new List<TaskDetail>();
  protected override Task OnInitializedAsync()
  {
    StateHasChanged();
    return GetAllTasks();

    //return base.OnInitializedAsync();
  }

  private async Task GetAllTasks()
  {
    var responseModel = await _tasksService.GetTasks();
    taskDetails = responseModel.Payload;

    Console.WriteLine(responseModel.Payload.Count());
  }

}
